import os
import json
import unittest
from general import utils
from search.word_cloud.word_cloud import WordClouds


class TestTokenize(unittest.TestCase):

    def setUp(self):
        self.wc = WordClouds()

    def tearDown(self) -> None:
        pass

    def test_get_config_json(self):
        sample_text = "{'Hundreds': 2, 'thousands': 3, 'peaceful': 5, 'ages': 1, 'returned': 1, 'Hong': 14, 'Kong': 12, 'Sunday': 5, 'massive': 1, 'show': 3, 'solidarity': 1, 'movement': 4, 'appeared': 2, 'verge': 1, 'losing': 1, 'popular': 1, 'support': 1, 'defied': 1, 'torrential': 1, 'rain': 1, 'police': 23, 'ban': 1, 'menacing': 1, 'threats': 1, 'Chinese': 8, 'government': 10, 'come': 2, 'back': 1, '11th': 1, 'consecutive': 1, 'weekend': 4, 'mass': 1, 'organizers': 3, 'claimed': 1, 'many': 2, 'million': 1, 'people': 6, 'joined': 1, 'rally': 7, 'thronging': 1, 'westwards': 1, 'Victoria': 1, 'Park': 3, 'downtown': 1, 'transforming': 1, 'much': 1, 'city': 5, 'center': 1, 'sea': 1, 'slow': 1, 'moving': 1, 'umbrellas': 1, 'estimate': 1, 'put': 2, 'number': 1, 'starting': 1, 'point': 1, '128': 1, '000': 3, 'CNN': 3, 'independently': 1, 'confirm': 1, 'either': 1, 'figure': 1, 'Aerial': 1, 'shots': 1, 'wide': 1, 'paths': 1, 'parkways': 1, 'crammed': 1, 'full': 1, 'families': 1, 'young': 1, 'demonstration': 4, 'widely': 1, 'viewed': 1, 'test': 1, 'durability': 1, 'following': 1, 'escalating': 1, 'violence': 5, 'one': 3, 'slogans': 2, 'march': 5, 'Kongers': 1, 'Assemble': 1, 'Rational': 1, 'Non': 1, 'Violent': 2, 'Stand': 2, 'organized': 1, 'Civil': 1, 'Human': 1, 'Rights': 1, 'Front': 2, 'traditional': 1, 'pro': 3, 'democracy': 3, 'organization': 1, 'responsible': 1, 'arranging': 1, 'two': 4, 'huge': 1, 'marches': 1, 'June': 2, 'attracted': 1, 'participants': 1, 'given': 1, 'permission': 1, 'Chater': 1, 'Garden': 1, 'Central': 1, 'District': 2, 'planned': 3, 'local': 1, 'time': 1, 'ET': 1, 'congested': 1, 'several': 1, 'main': 2, 'roads': 1, 'shopping': 1, 'area': 4, 'Causeway': 1, 'Bay': 1, 'pushed': 1, 'Admiralty': 1, 'near': 2, 'Legislative': 2, 'Council': 2, 'wore': 1, 'black': 1, 'color': 1, 'now': 2, 'associated': 1, 'anti': 2, 'carried': 1, 'signs': 2, 'chanted': 1, 'moved': 1, 'slowly': 1, 'forward': 1, 'Fight': 1, 'freedom': 1, 'add': 3, 'oil': 3, 'protest': 4, 'began': 2, 'shelved': 1, 'extradition': 4, 'bill': 2, 'expanded': 1, 'include': 1, 'calls': 3, 'greater': 2, 'accountability': 1, 'idea': 1, 'next': 1, 'citizens': 1, 'keep': 2, 'going': 1, 'peacefully': 1, 'let': 1, 'regime': 1, 'know': 1, 'demands': 1, 'said': 5, 'protester': 20, 'Louis': 1, '43': 1, 'works': 1, 'industry': 1, 'walk': 2, 'along': 2, 'street': 3, 'August': 2, '18': 2, '2019': 2, 'latest': 2, 'opposition': 2, 'law': 2, 'Another': 1, 'gave': 1, 'name': 1, 'Howard': 1, 'protesting': 1, 'perceived': 1, 'want': 1, 'listen': 2, 'us': 1, 'withdraw': 1, 'independent': 2, 'panel': 1, 'investigating': 1, 'abuse': 1, 'officers': 5, 'stood': 2, 'months': 1, 'gone': 1, 'lot': 1, 'lose': 1, 'hope': 1, 'fighting': 3, 'ralliesIn': 1, 'statement': 1, 'reiterated': 1, 'restore': 1, 'social': 1, 'order': 1, 'suggested': 1, 'officials': 1, 'begin': 1, 'dialogue': 1, 'public': 1, 'everything': 1, 'calmed': 1, 'international': 1, 'image': 1, 'suffered': 1, 'result': 1, 'ongoing': 2, 'particularly': 1, 'disruption': 1, 'airport': 4, 'admitted': 1, 'week': 3, 'economy': 1, 'suffering': 1, 'followed': 1, 'ugly': 1, 'scenes': 2, 'Tuesday': 2, 'small': 2, 'group': 2, 'detained': 1, 'beat': 1, 'men': 1, 'accused': 1, 'undercover': 2, 'violently': 1, 'clashed': 1, 'riot': 3, 'aware': 1, 'damage': 1, 'caused': 1, 'Saturday': 1, 'tens': 1, 'participated': 2, 'Kowloon': 1, 'aim': 1, 'reclaiming': 1, 'tranquility': 1, 'neighborhood': 1, 'told': 1, 'marched': 1, 'Kwa': 1, 'Wan': 2, 'Hung': 1, 'Hom': 1, 'recently': 1, 'seen': 1, 'influx': 1, 'mainland': 3, 'tourists': 1, 'Later': 1, 'broke': 1, 'gathered': 1, 'station': 2, 'nearby': 1, 'Mong': 1, 'Kok': 1, 'world': 1, 'densely': 1, 'populated': 1, 'clearing': 1, 'left': 1, 'without': 1, 'confrontation': 1, 'spends': 2, 'half': 2, '1300': 2, 'monthly': 2, 'salary': 2, 'rent': 2, '39': 1, 'fairer': 2, 'KongHe': 1, 'KongIn': 1, 'separate': 1, 'part': 2, 'town': 1, 'estimated': 1, '22': 1, 'school': 1, 'teachers': 1, 'supporters': 2, 'attended': 1, 'morning': 1, 'Chief': 1, 'Executive': 1, 'residence': 1, 'demonstrators': 1, 'according': 2, 'Meanwhile': 1, '108': 1, 'Tamar': 1, 'held': 1, 'banners': 1, 'Save': 1, 'Ahead': 1, 'video': 3, 'surfaced': 1, 'appearing': 1, 'armed': 2, 'holding': 1, 'joint': 1, 'training': 2, 'neighboring': 1, 'Shenzhen': 1, 'state': 2, 'media': 2, 'Daily': 1, 'heard': 1, 'chanting': 1, 'Stop': 1, 'repent': 1, 'Cantonese': 1, 'party': 1, 'command': 1, 'win': 1, 'battle': 1, 'forge': 1, 'exemplary': 1, 'conduct': 1, 'Mandarin': 1, 'standard': 1, 'chant': 1, 'Army': 1, 'indication': 1, 'military': 1, 'members': 1, 'set': 1, 'enter': 1, 'repeatedly': 1, 'brought': 1, 'possibility': 1, 'propaganda': 1, 'soldiers': 1, 'makeshift': 1, 'heavily': 1, 'promoted': 1, 'Focus': 1, 'policeHong': 1, 'remained': 1, 'noticeably': 1, 'absent': 1, 'contingent': 1, 'around': 1, 'Liaison': 1, 'office': 3, 'Sheung': 1, 'Forceful': 1, 'tactics': 1, 'used': 1, 'previous': 1, 'spurred': 1, 'Last': 2, 'saw': 1, 'tear': 1, 'gas': 1, 'fired': 1, 'inside': 1, 'subway': 1, 'woman': 1, 'allegedly': 1, 'hit': 1, 'face': 1, 'beanbag': 1, 'round': 1, 'outraging': 1, 'driving': 1, 'turnout': 1, 'things': 1, 'calming': 1, 'somewhat': 1, 'Speaking': 1, 'background': 1, 'briefing': 1, 'senior': 3, 'defended': 1, 'use': 2, 'force': 2, 'response': 1, 'characterized': 1, 'criminal': 1, 'behavior': 1, 'rejected': 1, 'investigation': 1, 'handling': 1, 'situation': 1, 'snatch': 1, 'action': 1, 'helped': 1, 'fuel': 1, 'paranoia': 1, 'suspicion': 1, 'clear': 1, 'onus': 1, 'solving': 1, 'unrest': 1, 'political': 3, 'issue': 2, 'needs': 1, 'solution': 1, 'commander': 1}"
        dict = json.loads(sample_text.replace("'", '"'))
        processed_text = self.wc.show_wordcloud(dict)
        print(processed_text)


if __name__ == '__main__':
    unittest.main()
